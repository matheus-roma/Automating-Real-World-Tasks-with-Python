#copyright ReportLab Inc. 2000-2019
#see license.txt for license details
Version='4.0.4'

__version__=Version
__date__='20230601'
import sys

if sys.version_info<(3, 7):
    raise ImportError("""rlextra requires Python 3.7+; 3.0-3.6 are not supported.
If you want to try with other python versions edit line 10 of rlextra/__init__
to remove this error.""")

import reportlab

import re
_vpat = re.compile(r'^\s*(?P<major>\d+)\.(?P<minor>\d+)\.(?P<micro>\d+)(?:\.(?P<nano>\d+))?(?P<pre>(?P<prelab>[abc])(?P<prenum>\d+))?\s*$')

def _gv(v):
	m=_vpat.match(v)
	if not m:
		raise ValueError(f'version {v} not properly specified')
	if m.group('pre'):
		pre = (-(1+'cba'.index(m.group('prelab'))),int(m.group('prenum')))
	else:
		pre = (0,0)
	return (int(m.group('major')),int(m.group('minor')),int(m.group('micro')))+pre

def _sv(t):
	return ('%d.%d.%d' %t[:3])+('zcba'[-t[-2]]+str(t[-1]) if t[-2] else '')

_rv = _gv(reportlab.Version)
_xv = _gv(Version)
if _rv < _xv:
	raise ImportError(f"""rlextra version {Version} requires at least reportlab {_sv(_xv)},
but you have reportlab {reportlab.Version}; it is strongly recommended that you use the same versions""")
del _vpat, _gv, _rv, _xv, re, _sv
